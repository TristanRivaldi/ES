<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tristan</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Tristan</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tristan</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

This is a Quarto website. &lt;!DOCTYPE html&gt;


<title>
Météo Montpellier
</title>

<style>
    /* Styles pour le corps de la page */
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
    }

    /* Styles pour le conteneur principal */
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    /* Styles pour le titre */
    h1 {
      color: #333;
      text-align: center;
    }

    /* Styles pour le tableau de données météorologiques */
    table {
      width: 100%;
      border-spacing: 0;
    }

    th, td {
      padding: 12px;
      text-align: left;
    }

    th {
      background-color: #3498db;
      color: #fff;
      font-weight: bold;
    }

    tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    tr:hover {
      background-color: #3498db;
      color: #fff;
    }

    /* Styles pour la date */
    .date {
      font-size: 80%;
    }

    /* Styles pour les détails horaires (initialement cachés) */
    .hourly-details {
      display: none;
      background-color: #f9f9f9;
      padding: 10px;
    }

    /* Styles pour les icônes de conditions météo */
    .weather-icon {
      width: 60px;
      height: 60px;
    }
  </style>


<div class="container">
<pre><code>&lt;h1&gt;Météo Montpellier&lt;/h1&gt;
&lt;table id="weather-table"&gt;
  &lt;!-- En-tête des colonnes du tableau --&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Date&lt;/th&gt;
      &lt;th&gt;Conditions Météo&lt;/th&gt;
      &lt;th&gt;Temp. Max (°C)&lt;/th&gt;
      &lt;th&gt;Temp. Min (°C)&lt;/th&gt;
      &lt;th&gt;Précip. (mm)&lt;/th&gt;
      &lt;th&gt;Vent (km/h)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;!-- Données météorologiques seront insérées ici --&gt;
  &lt;tbody&gt;
    &lt;!-- Lignes pour les données seront générées dynamiquement ici --&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="hourly-details" id="hourly-details"&gt;
  &lt;!-- Données horaires seront insérées ici --&gt;
&lt;/div&gt;
&lt;!-- Description de la méthodologie (peut être retirée si nécessaire) --&gt;
&lt;div id="methodology-description"&gt;
  &lt;h2&gt;Méthodologie :&lt;/h2&gt;
  &lt;p&gt;
    Cette application présente la température maximale et minimale de chaque jour, le taux de précipitations et la moyenne de la vitesse du vent. 
    De plus, en cliquant sur une ligne du tableau, vous accéderez aux informations horaires pour certaines heures de la journée choisie. Si vous recliquez sur la même ligne, le 
    tableau d'origine réapparaîtra. Les données sont collectées à partir d'une URL API. Les mises à jour automatiques des données sont effectuées 
    quotidiennement à 6h30. Pour plus de détails veuillez consulter le README.
  &lt;/p&gt;
&lt;/div&gt;</code></pre>
</div>

<script>
    let selectedRow = null; // Variable pour suivre la ligne actuellement sélectionnée

    // Fonction pour obtenir le nom du jour de la semaine associé à la date
    function getDayOfWeek(date) {
      const daysOfWeek = ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"];
      return daysOfWeek[date.getDay()];
    }

    // Fonction pour afficher les données horaires lorsque la ligne est cliquée
    function showHourlyDetails(date, hourlyData) {
      const hourlyDetails = document.querySelector('#hourly-details');
      hourlyDetails.innerHTML = ''; // Effacer le contenu actuel

      const title = document.createElement('h2');
      title.textContent = `Détails horaires pour ${date}`;
      hourlyDetails.appendChild(title);

      // Créer un tableau pour afficher les données horaires
      const hourlyTable = document.createElement('table');
      const thead = document.createElement('thead');
      const tbody = document.createElement('tbody');
      hourlyTable.appendChild(thead);
      hourlyTable.appendChild(tbody);

      // Créer l'en-tête du tableau
      const headerRow = document.createElement('tr');
      const headerColumns = ['Heure', 'Temp. (°C)', 'Vent (km/h)', 'Précip. (mm)', 'Conditions Météo'];
      headerColumns.forEach(columnText => {
        const th = document.createElement('th');
        th.textContent = columnText;
        headerRow.appendChild(th);
      });
      thead.appendChild(headerRow);

      // Heures à afficher
      const hoursToDisplay = ['03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00', '00:00'];

      // Remplir les données horaires
      for (const hourToDisplay of hoursToDisplay) {
        const hourlyRow = document.createElement('tr');
        const formattedTime = hourToDisplay;
        const hourlyDataItem = hourlyData.find(item => {
          const itemTime = new Date(item.time).getHours();
          return itemTime === parseInt(hourToDisplay);
        });

        if (hourlyDataItem) {
          const { temperature_2m, windspeed_10m, precipitation } = hourlyDataItem;
          let weatherIcon = 'soleil.svg';

          if (precipitation === 0 && (hourToDisplay === '03:00' || hourToDisplay === '06:00' || hourToDisplay === '18:00' || hourToDisplay === '21:00' || hourToDisplay === '00:00')) {
            weatherIcon = 'lune.svg';
          } else if (precipitation > 0 && (hourToDisplay === '03:00' || hourToDisplay === '06:00' || hourToDisplay === '18:00' || hourToDisplay === '21:00' || hourToDisplay === '00:00')) {
            weatherIcon = 'lune_n.svg';
          } else if (precipitation > 0) {
            weatherIcon = 'nuage.svg';
          } else {
            weatherIcon = 'soleil.svg';
          }

          hourlyRow.innerHTML = `
            <td>${formattedTime}</td>
            <td>${temperature_2m}°C</td>
            <td>${windspeed_10m} km/h</td>
            <td>${parseFloat(precipitation).toFixed(1)} mm</td>
            <td><img class="weather-icon" src="${weatherIcon}" alt="${precipitation > 0 ? 'Nuage avec de la pluie' : 'Soleil'}"></td>
          `;
        } else {
          hourlyRow.innerHTML = `<td>${formattedTime}</td><td>N/A</td><td>N/A</td><td>N/A</td><td>N/A</td>`;
        }

        tbody.appendChild(hourlyRow);
      }

      hourlyDetails.appendChild(hourlyTable);
      hourlyDetails.style.display = 'block';
    }

    // Fonction pour charger les données depuis le fichier JSON
    function loadWeatherData() {
      fetch('weather_data.json')
        .then(response => response.json())
        .then(data => {
          const table = document.querySelector('#weather-table');
          const tbody = table.querySelector('tbody');
          tbody.innerHTML = ''; // Effacer le contenu actuel

          // Remplir les données
          const dates = Object.keys(data.daily_data);
          for (const date of dates) {
            const dayData = data.daily_data[date];
            const dataRow = document.createElement('tr');

            // Obtenir le nom du jour de la semaine associé à la date
            const dateObj = new Date(date);
            const dayOfWeek = getDayOfWeek(dateObj);

            // Obtenir la date au format jour/mois (français)
            const options = { day: 'numeric', month: 'numeric' };
            const formattedDate = dateObj.toLocaleDateString('fr-FR', options);

            dataRow.innerHTML = `<td>${dayOfWeek}<br><span class="date">${formattedDate}</span></td>`;

            // Ajouter la colonne des conditions météo
            const weatherConditionCell = document.createElement('td');
            if (dayData["Pr\u00e9cipitations (mm)"] > 0) {
              // S'il y a des précipitations, afficher une image de nuage avec de la pluie
              weatherConditionCell.innerHTML = '<img class="weather-icon" src="nuage.svg" alt="Nuage avec de la pluie">';
            } else {
              // S'il n'y a pas de précipitations, afficher une image de soleil
              weatherConditionCell.innerHTML = '<img class="weather-icon" src="soleil.svg" alt="Soleil">';
            }
            dataRow.appendChild(weatherConditionCell);

            // Ajouter l'image "chaud.svg" à côté de la valeur de Temp. Max (°C) avec une taille plus grande
            const tempMax = dayData["Temp\u00e9rature Maximale (°C)"];
            dataRow.innerHTML += `<td>${tempMax} <img src="chaud.svg" alt="Chaud" width="30" height="30"></td>`;

            // Ajouter l'image "froid.svg" à côté de la valeur de Temp. Min (°C) avec une taille plus grande
            const tempMin = dayData["Temp\u00e9rature Minimale (°C)"];
            dataRow.innerHTML += `<td>${tempMin} <img src="froid.svg" alt="Froid" width="30" height="30"></td>`;

            const precipitation = parseFloat(dayData["Pr\u00e9cipitations (mm)"]).toFixed(1);
            dataRow.innerHTML += `<td>${precipitation}</td>`;

            // Extraire la partie entière de la vitesse du vent
            const windSpeed = parseInt(dayData["Moyenne du Vent (km/h)"]);
            dataRow.innerHTML += `<td>${windSpeed}</td>`;

            tbody.appendChild(dataRow);

            // Ajouter un gestionnaire d'événements pour chaque ligne de données
            dataRow.addEventListener('click', () => {
              if (selectedRow === dataRow) {
                // Si la ligne actuellement sélectionnée est la même que celle cliquée à nouveau, réinitialisez la sélection
                selectedRow.style.backgroundColor = '';
                selectedRow = null;
                document.querySelector('#hourly-details').style.display = 'none'; // Masquer les détails horaires
              } else {
                // Réinitialiser la ligne précédemment sélectionnée si elle existe
                if (selectedRow) {
                  selectedRow.style.backgroundColor = '';
                }

                // Si la ligne actuellement sélectionnée est différente de la nouvelle ligne, afficher les détails horaires
                selectedRow = dataRow;
                dataRow.style.backgroundColor = '#3498db';
                const hourlyData = data.hourly_data[date];
                showHourlyDetails(formattedDate, hourlyData);
              }
            });
          }
        })
        .catch(error => {
          console.error('Erreur lors du chargement des données :', error);
        });
    }

    // Appeler loadWeatherData au chargement de la page
    loadWeatherData();

    // Rafraîchir automatiquement les données toutes les 12 heures
    setInterval(loadWeatherData, 12 * 60 * 60 * 1000); // 12 heures en millisecondes
  </script>


<p>To learn more about Quarto websites visit <a href="https://quarto.org/docs/websites" class="uri">https://quarto.org/docs/websites</a>.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>